<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è´µé˜³Â·æ´»åŠ›æ¢ç´¢æŒ‡å— (å®åç‰ˆ)</title>
    <style>
        :root {
            --bg-color: #F5F7FA;
            --card-bg: #FFFFFF;
            --text-main: #2D3436;
            --text-sub: #636E72;
            --primary: #FF7675; /* æ´»åŠ›çŠç‘šçº¢ */
            --gradient: linear-gradient(135deg, #f6d365 0%, #fda085 100%); /* é˜³å…‰æ©™æ¸å˜ */
            --shadow: 0 8px 20px rgba(0,0,0,0.06);
            --console-bg: #2d3436;
            --console-text: #00cec9;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            padding-bottom: 100px;
        }

        /* --- ç™»å½•å±‚æ ·å¼ (æ–°å¢) --- */
        .login-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 40px;
            transition: opacity 0.5s;
        }
        .login-box { width: 100%; max-width: 320px; text-align: center; }
        .login-logo { font-size: 40px; margin-bottom: 20px; }
        .login-title { font-size: 22px; font-weight: 800; color: #2D3436; margin-bottom: 10px; }
        .login-desc { font-size: 13px; color: #636E72; margin-bottom: 40px; }
        
        .input-group { margin-bottom: 20px; text-align: left; }
        .input-label { font-size: 12px; color: #B2BEC3; margin-bottom: 5px; display: block; font-weight: bold; }
        .custom-input {
            width: 100%; padding: 15px; border: 2px solid #F0F0F0;
            border-radius: 12px; font-size: 16px; outline: none;
            transition: border-color 0.3s; background: #fff;
        }
        .custom-input:focus { border-color: #fda085; }

        .btn-login {
            width: 100%; padding: 15px; border: none; border-radius: 30px;
            background: var(--gradient); color: #fff; font-size: 16px; font-weight: bold;
            box-shadow: 0 10px 20px rgba(253, 160, 133, 0.4);
            cursor: pointer; margin-top: 20px;
        }
        .btn-login:active { transform: scale(0.98); }

        /* --- ä¸»ç•Œé¢æ ·å¼ --- */
        .header {
            padding: 40px 20px 30px;
            background: var(--gradient);
            border-bottom-left-radius: 30px; border-bottom-right-radius: 30px;
            box-shadow: 0 10px 20px rgba(253, 160, 133, 0.3);
            position: sticky; top: 0; z-index: 100; margin-bottom: 20px;
        }
        .header h1 { font-size: 24px; color: #fff; font-weight: 800; }
        .header p {
            font-size: 11px; color: rgba(255,255,255,0.95); margin-top: 8px;
            background: rgba(255,255,255,0.2); display: inline-block;
            padding: 4px 12px; border-radius: 15px; font-weight: 500;
        }

        .nav-scroll {
            display: flex; overflow-x: auto; padding: 5px 20px 20px; gap: 12px;
            scrollbar-width: none; 
        }
        .nav-scroll::-webkit-scrollbar { display: none; } 

        .nav-item {
            flex: 0 0 auto; padding: 8px 18px; background: #fff;
            border-radius: 25px; font-size: 13px; color: var(--text-sub);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); transition: all 0.3s;
            cursor: pointer; font-weight: 600;
        }
        .nav-item.active {
            background: var(--primary); color: #fff;
            transform: translateY(-2px); box-shadow: 0 6px 15px rgba(255, 118, 117, 0.4);
        }

        .content-area { padding: 0 20px; min-height: 600px; }

        .card {
            background-color: var(--card-bg); border-radius: 18px;
            padding: 20px; margin-bottom: 16px; box-shadow: var(--shadow);
            transition: transform 0.2s; border: 1px solid rgba(255,255,255,0.5);
        }
        .card:active { transform: scale(0.98); }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .card h3 { font-size: 17px; color: #2D3436; font-weight: 700; flex: 1; }
        .tag {
            font-size: 10px; padding: 3px 8px; background: #E0F7FA;
            color: #0097A7; border-radius: 6px; font-weight: 600; white-space: nowrap; margin-left: 10px;
        }
        .reason {
            font-size: 13px; color: #636E72; line-height: 1.5; margin-bottom: 15px;
            background: #FAFAFA; padding: 10px; border-radius: 8px; border-left: 3px solid #ff7675;
        }
        .card-footer {
            display: flex; justify-content: space-between; align-items: center;
            padding-top: 10px; border-top: 1px dashed #eee;
        }
        .location { font-size: 11px; color: #B2BEC3; display: flex; align-items: center; max-width: 70%; }
        .location::before { content: 'ğŸ“'; margin-right: 4px; filter: grayscale(0.2); }
        .btn-nav {
            background: var(--gradient); color: #fff; font-size: 11px; font-weight: bold;
            padding: 6px 14px; border-radius: 20px; text-decoration: none;
            box-shadow: 0 4px 10px rgba(253, 160, 133, 0.3);
        }

        /* Toast & Admin */
        .toast {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background: #fff; color: var(--primary); padding: 12px 25px; border-radius: 50px;
            font-size: 13px; font-weight: bold; opacity: 0; transition: all 0.3s; z-index: 3000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 8px; pointer-events: none; width: 80%; justify-content: center;
        }

        .admin-toggle {
            position: fixed; bottom: 25px; right: 25px; background: #fff; color: var(--primary);
            width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 22px; cursor: pointer; z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .admin-panel {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 60vh;
            background-color: var(--console-bg); border-top-left-radius: 20px; border-top-right-radius: 20px;
            z-index: 2500; transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 20px; font-family: monospace; display: flex; flex-direction: column;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
        }
        .admin-panel.open { transform: translateY(0); }
        
        .log-container { flex: 1; overflow-y: auto; margin-top: 15px; }
        .log-item { margin-bottom: 10px; color: #dfe6e9; font-size: 11px; border-bottom: 1px solid #444; padding-bottom: 8px; }
        .log-user { color: #fab1a0; font-weight: bold; display: block; margin-bottom: 2px;}
        .log-detail { display: flex; justify-content: space-between; }
    </style>
</head>
<body>

    <!-- ç™»å½•å±‚ -->
    <div id="loginModal" class="login-modal">
        <div class="login-box">
            <div class="login-logo">â˜€ï¸</div>
            <div class="login-title">è´µé˜³Â·æ´»åŠ›æ¢ç´¢æŒ‡å—</div>
            <div class="login-desc">ä¸“ä¸ºåŒ»å¸ˆå®šåˆ¶çš„å¥åº·ç”Ÿæ´»åœ°å›¾</div>
            
            <div class="input-group">
                <label class="input-label">æ‚¨çš„å§“å</label>
                <input type="text" id="inputName" class="custom-input" placeholder="ä¾‹å¦‚ï¼šå¼ ä¸»ä»»">
            </div>
            
            <div class="input-group">
                <label class="input-label">è”ç³»ç”µè¯</label>
                <input type="tel" id="inputPhone" class="custom-input" placeholder="ç”¨äºæ¥æ”¶å®šåˆ¶æ–¹æ¡ˆ">
            </div>

            <button class="btn-login" onclick="handleLogin()">å¼€å¯æ¢ç´¢ä¹‹æ—…</button>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <div class="header">
        <h1 id="welcomeTitle">Hello, Doctor.</h1>
        <p>è´µé˜³ Â· åŒ»ç”Ÿä¸“å±éšè—æ‰“å¡åœ°å›¾</p>
    </div>

    <div class="nav-scroll">
        <div class="nav-item active" onclick="switchTab('food', this)">ğŸ¥£ æ´å‡€é¥®é£Ÿ</div>
        <div class="nav-item" onclick="switchTab('drink', this)">ğŸ¥ƒ å¾®é†ºå¤„æ–¹</div>
        <div class="nav-item" onclick="switchTab('run', this)">ğŸƒ æ™¨é—´å¤å¥</div>
        <div class="nav-item" onclick="switchTab('cafe', this)">â˜• å­¦æœ¯ä¹¦å’–</div>
        <div class="nav-item" onclick="switchTab('culture', this)">ğŸ› äººæ–‡ç–—æ„ˆ</div>
    </div>

    <div id="content" class="content-area"></div>

    <div class="admin-toggle" onclick="toggleAdmin()">ğŸ“Š</div>

    <div id="adminPanel" class="admin-panel">
        <div style="display:flex; justify-content:space-between; color:#fff; font-weight:bold;">
            <span>âš¡ REAL-TIME USER LOGS</span>
            <span onclick="toggleAdmin()" style="cursor:pointer">Ã—</span>
        </div>
        <div id="logContainer" class="log-container">
            <div style="color:#666; text-align:center; margin-top:50px;">Waiting for login...</div>
        </div>
        <button onclick="clearLogs()" style="margin-top:10px; background:#ff7675; border:none; color:white; padding:8px; border-radius:4px;">CLEAR DATA</button>
    </div>

    <script>
        // ç”¨æˆ·ä¿¡æ¯å…¨å±€å˜é‡
        let currentUser = { name: "", phone: "" };

        // æ•°æ®åº“
        const db = {
            food: [
                { name: "é»”è˜‘è‡Â·è§‚å±±æ¹–å››å­£", tag: "æ— èŒçº§", desc: "å¨æˆ¿å¯è§†å¦‚æ‰‹æœ¯å®¤ï¼ŒèŒæ±¤å½“æ—¥é›¶åº“å­˜ã€‚", loc: "è§‚å±±æ¹–åŒºé‰´æ¹–è·¯1å·" },
                { name: "è€å‡¯ä¿šé…¸æ±¤é±¼(åŒ—å¤§èµ„æº)", tag: "ä½å˜Œå‘¤", desc: "é…¸æ±¤æ’æ¸©å‘é…µç½å¯è§†ï¼Œé±¼è‚‰å»åˆºã€‚", loc: "åŒ—å¤§èµ„æºæ¢¦æƒ³åŸ" },
                { name: "æ³‰ä¸ŠÂ·å‘ç° DISCOVERY", tag: "ç´«å¤–æ¶ˆæ¯’", desc: "é‡‘èåŸç‹¬æ ‹ç»ç’ƒæˆ¿ï¼Œé¤å‰ç´«å¤–æ¶ˆæ¯’é¤å…·ã€‚", loc: "è§‚å±±æ¹–åŒº CCPark Bé¦†" },
                { name: "æ‹¾ç¦¾Â·äº‘ä¹‹å—", tag: "é™éŸ³å‡€åŒ–", desc: "åŒé›†å›¢â€œè£¸çƒ¹â€è®¤è¯ï¼ŒåŒ…å¢é…é™éŸ³å‡€åŒ–å™¨ã€‚", loc: "äº‘å²©åŒºä¸­å¤©èŠ±å›­" },
                { name: "é“¶æµ·å…ƒéš†Â·æ³‰ä¸Šå‘ç°", tag: "ä½ç›ä¸“åŒº", desc: "å•†åœºç‹¬ç«‹ç”µæ¢¯ç›´è¾¾ï¼Œè®¾ä½ç›é»”èœä¸“åŒºã€‚", loc: "é“¶æµ·å…ƒéš†å¹¿åœº BåŒº" }
            ],
            drink: [
                { name: "éšæ‰€ Jazz Lounge", tag: "â‰¤60dB", desc: "æ¯æ—¥é™æµ30å¸­ï¼Œå¸éŸ³è½¯åŒ…+çˆµå£«trioç°åœºã€‚", loc: "å—æ˜åŒºæ–°åå··" },
                { name: "å®‰ç€Â·å¨å£«å¿Œå›¾ä¹¦é¦†", tag: "ç§å¯†ä¹¦æˆ¿", desc: "ä¹¦æˆ¿å¼å¡åº§ï¼Œ300+è½»æ³¥ç…¤å¨å£«å¿Œã€‚", loc: "å®‰ç€é…’åº— 21F" },
                { name: "Tiny Devil", tag: "é€‚åˆç‹¬å¤„", desc: "å¸‚ä¸­å¿ƒè¢–çç¤¾åŒºåº—ï¼Œç¯å…‰â‰¤50luxã€‚", loc: "æ–‡æ˜ŒåŒ—è·¯åå®«å··" },
                { name: "å¤œèˆªèˆ¹Â·ä½é…’ç²¾å®éªŒå®¤", tag: "åŠ©çœ ç¯å…‰", desc: "é›¶ç”µè§†é›¶éª°å­ï¼Œç¯å…‰2700KåŠ©çœ ã€‚", loc: "éƒ½å¸è·¯é«˜æ¶æ¡¥ä¸‹" }
            ],
            run: [
                { name: "è§‚å±±æ¹–å…¬å›­â€œç¯æ¹–å†…åœˆâ€", tag: "è†ç›–å‹å¥½", desc: "2.2km å¡‘èƒ¶é“é›¶å¹¿åœºèˆï¼Œè´Ÿæ°§ç¦»å­4000+ã€‚", loc: "è§‚å±±æ¹–å…¬å›­ä¸œåŒ—é—¨" },
                { name: "é˜…å±±æ¹–â€œæ¹¿åœ°æ‚¬æŒ‘æ­¥é“â€", tag: "ç™½å™ªéŸ³", desc: "1.8km æœ¨æ ˆé“é›¶é«˜å·®ï¼Œæ™¨é—´ä»…å‚é’“è€…ã€‚", loc: "é˜…å±±æ¹–æ¹¿åœ°è¥¿åŒº" },
                { name: "å¥¥ä½“ä¸­å¿ƒâ€œç©ºä¸­å¡‘èƒ¶é“â€", tag: "æ™¨ç»ƒé¦–é€‰", desc: "5:30äº®ç¯ï¼Œ2.5må®½æ— è½¦ï¼Œç»•è¡Œ1kmÃ—4åœˆã€‚", loc: "å¥¥ä½“ä¸­å¿ƒå¤–ç¯" }
            ],
            cafe: [
                { name: "Nectar One Cafe", tag: "é˜…è¯»ç¯", desc: "ä¸–ç•Œçº§åˆ›æ„å’–å•¡ï¼Œ20:00ååˆ†è´â‰¤45ã€‚", loc: "äº‘å²©åŒºå¤ªå¹³è·¯" },
                { name: "æœªåÂ·å¤å…¸ä¹å’–å•¡", tag: "é™å™ªè€³æœº", desc: "ä»…æ’­å¼¦ä¹å››é‡å¥ï¼Œæä¾›é™å™ªè€³æœºã€‚", loc: "åŒ—äº¬è·¯è´µå·é¥­åº—å‰¯æ¥¼" },
                { name: "è§‚å±±Â·æ¹–æ™¯èŒ¶é…¤", tag: "é›¨å£°ç™½å™ª", desc: "6å¸­é¢æ¹–å§å°ï¼ŒèƒŒæ™¯ç™½å™ªéŸ³ï¼Œ22:00ç†„ç¯ã€‚", loc: "è§‚å±±æ¹–å…¬å›­è¥¿é—¨" }
            ],
            culture: [
                { name: "é˜³æ˜ç¥ Â·åé™¢ç¢‘å»Š", tag: "é™åå†…çœ", desc: "äººå°‘ç¢‘åˆ»å¤šï¼Œå¯é™åè¯»ã€Šä¼ ä¹ å½•ã€‹ã€‚", loc: "äº‘å²©åŒºä¸œå±±è·¯" },
                { name: "è´µå·çœåš(è´Ÿä¸€æ¥¼)", tag: "æ’æ¸©æ’æ¹¿", desc: "äººå°‘ï¼Œå¯æ…¢è¯»æ˜æ¸…åŒ»ç±æ‰‹ç¨¿ï¼Œéœ€é¢„çº¦ã€‚", loc: "è§‚å±±æ¹–åŒºæ—åŸä¸œè·¯" },
                { name: "å¤œéƒè°·Â·å®‹æ°å¤å ¡", tag: "å¤©ç„¶å›å£°", desc: "è‰ºæœ¯å®¶30å¹´ç‹¬å»ºçŸ³å¤´ç‹å›½ï¼Œè°·åœ°å›å£°å±è”½å–§åš£ã€‚", loc: "èŠ±æºªåŒºå¤œéƒè°·" }
            ]
        };

        // --- ç™»å½•é€»è¾‘ ---
        function handleLogin() {
            const name = document.getElementById('inputName').value;
            const phone = document.getElementById('inputPhone').value;

            if (!name || !phone) {
                showToast("âš ï¸ è¯·å¡«å†™å®Œæ•´ä¿¡æ¯ä»¥ç”Ÿæˆå®šåˆ¶æ–¹æ¡ˆ");
                return;
            }

            currentUser = { name, phone };
            
            // éšè—ç™»å½•é¡µ
            document.getElementById('loginModal').style.opacity = 0;
            setTimeout(() => {
                document.getElementById('loginModal').style.display = 'none';
            }, 500);

            // æ›´æ–°æ¬¢è¿è¯­
            document.getElementById('welcomeTitle').innerText = `Hello, ${name}`;
            showToast(`âœ¨ æ¬¢è¿æ‚¨ï¼Œ${name}`);

            // è®°å½•ç™»å½•æ—¥å¿—
            logAction("LOGIN", "ç³»ç»Ÿå…¥å£");
        }

        // --- æ ¸å¿ƒæ¸²æŸ“ ---
        function render(category) {
            const container = document.getElementById('content');
            container.innerHTML = '';
            container.style.opacity = 0;
            container.style.transform = "translateY(10px)";
            
            setTimeout(() => {
                const list = db[category];
                let html = '';
                list.forEach(item => {
                    html += `
                        <div class="card">
                            <div class="card-header">
                                <h3>${item.name}</h3>
                                <span class="tag">${item.tag}</span>
                            </div>
                            <div class="reason">${item.desc}</div>
                            <div class="card-footer">
                                <span class="location">${item.loc}</span>
                                <a href="javascript:void(0)" onclick="trackClick('${item.name}', '${item.tag}')" class="btn-nav">å¯¼èˆª Go â¤</a>
                            </div>
                        </div>
                    `;
                });
                container.innerHTML = html;
                container.style.opacity = 1;
                container.style.transform = "translateY(0)";
            }, 200);
        }

        function switchTab(cat, element) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            element.classList.add('active');
            render(cat);
        }

        // --- æ•°æ®åŸ‹ç‚¹é€»è¾‘ ---
        function trackClick(name, tag) {
            showToast(`ğŸ“¡ å·²è®°å½•åå¥½ï¼š${name}`);
            logAction("CLICK", `${name} [${tag}]`);
        }

        function logAction(action, target) {
            const logData = {
                time: new Date().toLocaleTimeString(),
                user: `${currentUser.name} (${currentUser.phone})`,
                action: action,
                target: target
            };
            
            let logs = JSON.parse(localStorage.getItem('h5_logs_auth') || '[]');
            logs.unshift(logData);
            localStorage.setItem('h5_logs_auth', JSON.stringify(logs));

            if(document.getElementById('adminPanel').classList.contains('open')) {
                renderLogs();
            }
        }

        function renderLogs() {
            const logs = JSON.parse(localStorage.getItem('h5_logs_auth') || '[]');
            const container = document.getElementById('logContainer');
            
            if (logs.length === 0) {
                container.innerHTML = '<div style="color: #666; text-align: center; margin-top: 40px;">Waiting for data...</div>';
                return;
            }

            let html = '';
            logs.forEach(log => {
                html += `
                    <div class="log-item">
                        <span class="log-user">ğŸ‘¤ ${log.user}</span>
                        <div class="log-detail">
                            <span style="color:#74b9ff">${log.time}</span>
                            <span style="color:#fff">${log.action}: ${log.target}</span>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.innerText = msg;
            toast.style.opacity = 1;
            toast.style.top = "50px";
            setTimeout(() => { toast.style.opacity = 0; toast.style.top = "20px"; }, 2000);
        }

        function toggleAdmin() {
            const panel = document.getElementById('adminPanel');
            panel.classList.toggle('open');
            if (panel.classList.contains('open')) renderLogs();
        }

        function clearLogs() {
            localStorage.removeItem('h5_logs_auth');
            renderLogs();
        }

        // Init
        render('food');
        document.getElementById('content').style.transition = 'all 0.4s ease';

    </script>
</body>
</html>